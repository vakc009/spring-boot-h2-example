<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tutorials Manager</title>

  <!-- Bootstrap 5 -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
        crossorigin="anonymous">

  <!-- Font Awesome 6 -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer">

  <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<!-- ── Navbar ──────────────────────────────────────────────────────────── -->
<nav class="navbar navbar-dark bg-dark shadow-sm">
  <div class="container-xl">
    <span class="navbar-brand">
      <i class="fa fa-book-open me-2"></i>Tutorials Manager
    </span>
    <button id="delete-all-btn" class="btn btn-sm btn-outline-danger">
      <i class="fa fa-trash me-1"></i>Delete All
    </button>
  </div>
</nav>

<div class="container-xl py-4">

  <!-- ── Stats row ─────────────────────────────────────────────────────── -->
  <div class="row g-3 mb-4">
    <div class="col-sm-4">
      <div class="card stat-card shadow-sm text-center p-3">
        <div class="card-title text-primary mb-1">Total</div>
        <div class="stat-value text-primary" id="stat-total">0</div>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="card stat-card shadow-sm text-center p-3">
        <div class="card-title text-success mb-1">Published</div>
        <div class="stat-value text-success" id="stat-published">0</div>
      </div>
    </div>
    <div class="col-sm-4">
      <div class="card stat-card shadow-sm text-center p-3">
        <div class="card-title text-secondary mb-1">Unpublished</div>
        <div class="stat-value text-secondary" id="stat-unpublished">0</div>
      </div>
    </div>
  </div>

  <!-- ── Toolbar ───────────────────────────────────────────────────────── -->
  <div class="card shadow-sm mb-4">
    <div class="card-body d-flex flex-wrap gap-3 align-items-center">
      <div class="input-group" style="max-width:300px">
        <span class="input-group-text"><i class="fa fa-search"></i></span>
        <input id="search-input" type="text" class="form-control" placeholder="Search by title…">
      </div>
      <div class="form-check form-switch mb-0 ms-auto">
        <input class="form-check-input" type="checkbox" id="published-toggle" role="switch">
        <label class="form-check-label" for="published-toggle">Published only</label>
      </div>
      <button class="btn btn-primary" onclick="openModal()">
        <i class="fa fa-plus me-1"></i>Add Tutorial
      </button>
    </div>
  </div>

  <!-- ── Table card ────────────────────────────────────────────────────── -->
  <div class="card shadow-sm">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover mb-0" id="tutorials-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Title</th>
              <th>Description</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="table-body"></tbody>
        </table>
      </div>

      <!-- Empty state -->
      <div id="empty-state" class="text-center py-5 d-none">
        <i class="fa fa-inbox fa-3x mb-3 opacity-25"></i>
        <p class="mb-0">No tutorials found.</p>
        <button class="btn btn-sm btn-primary mt-3" onclick="openModal()">
          <i class="fa fa-plus me-1"></i>Create one
        </button>
      </div>
    </div>
  </div>
</div><!-- /container -->

<!-- ── Create / Edit Modal ────────────────────────────────────────────────── -->
<div class="modal fade" id="tutorialModal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modal-title">Add Tutorial</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="mb-3">
          <label for="form-title" class="form-label fw-semibold">Title <span class="text-danger">*</span></label>
          <input id="form-title" type="text" class="form-control" placeholder="Enter title…">
          <div class="invalid-feedback">Title is required.</div>
        </div>
        <div class="mb-3">
          <label for="form-desc" class="form-label fw-semibold">Description</label>
          <textarea id="form-desc" class="form-control" rows="3" placeholder="Enter description…"></textarea>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="form-published">
          <label class="form-check-label" for="form-published">Mark as Published</label>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="save-btn">
          <i class="fa fa-floppy-disk me-1"></i>Save
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ── Delete Confirmation Modal ─────────────────────────────────────────── -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-sm">
    <div class="modal-content">
      <div class="modal-header border-0 pb-0">
        <h5 class="modal-title text-danger"><i class="fa fa-triangle-exclamation me-2"></i>Delete?</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body pt-1">
        Are you sure you want to delete this tutorial? This action cannot be undone.
      </div>
      <div class="modal-footer border-0">
        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger btn-sm" id="confirm-delete-btn">
          <i class="fa fa-trash me-1"></i>Delete
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ── Toast container ───────────────────────────────────────────────────── -->
<div class="toast-container position-fixed top-0 end-0 p-3" id="toast-container"></div>

<!-- Bootstrap 5 JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
<script src="/js/app.js"></script>
</body>
</html>
